import{r as c,j as a}from"./jsx-runtime-CHwbkWbZ.js";import{Q as j,B as b}from"./react-toastify.esm-CK8iYHYl.js";import{F as L,a as N,b as d,c as v,d as y}from"./index.esm-B0fxYW-1.js";import{l as C,a as I,g as F}from"./auth-CWqnw3Po.js";import{F as E,I as M}from"./insta-CxS8NGUb.js";import{L as S}from"./logo-DszzMTaQ.js";import{B as l}from"./button-BOZHsJ4N.js";import{a as k}from"./card-RI5J82o5.js";import{I as p}from"./input-D5AbOShC.js";import{T as B}from"./tabs-3Aonoci5.js";import{I as P,E as _}from"./messages.constant-BqquFt89.js";import{u as A}from"./auth.context-CHxM0nCf.js";import{c as D}from"./account.validator-5uHJvGE0.js";import{u as V}from"./index-Fe4a85aj.js";import{u as Z,L as g}from"./components-T8sgp3wV.js";import"./clsx-B-dksMZM.js";import"./index-8JwjhRSi.js";import"./axiosClient-9asyDyVF.js";import"./index-BpNdDISV.js";import"./bundle-mjs-BOZU2X2x.js";import"./label-Dt7bNMTL.js";import"./index-6o9Yse_D.js";import"./index-DLo6RHam.js";import"./index-Cd5qH5R9.js";import"./index-CK9DHiHK.js";import"./index-BXYUa_hh.js";const q="data:image/svg+xml,%3csvg%20width='19'%20height='18'%20viewBox='0%200%2019%2018'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M9.49988%207.36328V10.8487H14.3435C14.1308%2011.9696%2013.4925%2012.9188%2012.5353%2013.5569L15.4562%2015.8233C17.158%2014.2525%2018.1398%2011.9452%2018.1398%209.20428C18.1398%208.56611%2018.0826%207.95242%2017.9762%207.36338L9.49988%207.36328Z'%20fill='%234285F4'/%3e%3cpath%20d='M4.45596%2010.7129L3.79719%2011.2172L1.46533%2013.0335C2.94624%2015.9708%205.98147%2017.9999%209.49962%2017.9999C11.9296%2017.9999%2013.9668%2017.1981%2015.4559%2015.8235L12.535%2013.5572C11.7332%2014.0972%2010.7105%2014.4245%209.49962%2014.4245C7.15963%2014.4245%205.17151%2012.8454%204.45964%2010.7181L4.45596%2010.7129Z'%20fill='%2334A853'/%3e%3cpath%20d='M1.46538%204.9668C0.851781%206.17766%200.5%207.54404%200.5%209.00038C0.5%2010.4567%200.851781%2011.8231%201.46538%2013.034C1.46538%2013.0421%204.45998%2010.7103%204.45998%2010.7103C4.27998%2010.1703%204.17359%209.59764%204.17359%209.00029C4.17359%208.40293%204.27998%207.83024%204.45998%207.29025L1.46538%204.9668Z'%20fill='%23FBBC05'/%3e%3cpath%20d='M9.49981%203.58363C10.8253%203.58363%2012.0034%204.0418%2012.9443%204.92545L15.5216%202.34821C13.9589%200.891874%2011.9298%200%209.49981%200C5.98165%200%202.94624%202.02091%201.46533%204.96637L4.45984%207.29001C5.17161%205.16271%207.15982%203.58363%209.49981%203.58363Z'%20fill='%23EA4335'/%3e%3c/svg%3e",ha=()=>[{title:"Spiral - Login"}],G=v().shape({email:y().email(P).required(_),password:D()});function ua(){const{updateUserInfo:x}=A(),m=V(),[h,n]=c.useState(!1),i=Z();c.useEffect(()=>{i&&(async()=>{var s,t;await C("brand",(t=(s=i.emails)==null?void 0:s[0])==null?void 0:t.value,i==null?void 0:i.displayName,"").then(r=>{var o;localStorage.setItem("remix_us_tk",(o=r==null?void 0:r.data)==null?void 0:o.id),m("/manager/dashboard")})})()},[]);const u=async e=>{n(!0),await I(e.email,e.password).then(s=>{var t;localStorage.setItem("remix_us_tk",(t=s==null?void 0:s.data)==null?void 0:t.id),f()}).catch(s=>b.error(s==null?void 0:s.message)).finally(()=>n(!1))},f=async()=>{await F().then(e=>{x(e.data),m("/")})};return a.jsxs("div",{className:"w-full mx-auto h-[100vh] flex items-center bg-white justify-center",children:[a.jsx(j,{}),a.jsxs("div",{className:"mx-asuto flex flex-col items-center w-[460px]",children:[a.jsx("img",{src:S,alt:"logo",className:"mb-[30px]"}),a.jsx("h1",{className:"text-3xl mb-[30px] text-black font-bold",children:"Log in to your account"}),a.jsx(L,{initialValues:{email:"",password:""},validationSchema:G,validateOnChange:!0,onSubmit:(e,{setSubmitting:s})=>{u(e),s(!1)},children:({errors:e,touched:s,resetForm:t,isValid:r,isSubmitting:o,setFieldError:R,values:Q,handleChange:w})=>a.jsx(a.Fragment,{children:a.jsx(B,{className:"w-[460px]",children:a.jsxs(N,{className:"mt-[30px]",children:[a.jsxs("div",{className:"grid gap-4",children:[a.jsx("div",{className:"grid gap-2",children:a.jsx(d,{onChange:w,as:p,label:"Business email",id:"email",name:"email",type:"email",placeholder:"m@example.com",hasError:s.email&&!!e.email,errorMessage:s.email&&e.email?e.email:"",required:!0})}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(d,{as:p,label:"Password",id:"password",name:"password",type:"password",placeholder:"Password",hasError:s.password&&!!e.password,errorMessage:s.password&&e.password?e.password:"",required:!0}),a.jsx(g,{to:"/forgot-password",className:"ml-auto inline-block text-gray-800 text-sm underline",children:"Forgot your password?"})]}),a.jsx(l,{type:"submit",size:"default",loading:h,className:"w-full mt-1",disabled:!r||o,children:"Login"}),a.jsx(k,{className:"mt-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-grow border-t border-gray-300"}),a.jsx("span",{className:"mx-4 text-gray-500",children:"or Login with"}),a.jsx("div",{className:"flex-grow border-t border-gray-300"})]})}),a.jsxs(l,{type:"button",variant:"outline",className:"w-full",children:[a.jsx("img",{className:"mr-1",src:E,alt:"Facebook"}),"Login with Facebook"]}),a.jsx("a",{href:"/auth/google",children:a.jsxs(l,{type:"button",variant:"outline",className:"w-full",children:[a.jsx("img",{className:"mr-1",src:q,alt:"Google"}),"Login with Google"]})}),a.jsxs(l,{type:"button",variant:"outline",className:"w-full",children:[a.jsx("img",{className:"mr-1",src:M,alt:"Instagram"}),"Login with Instagram"]})]}),a.jsxs("div",{className:"mt-4 text-center text-sm",children:["Don't have an account?"," ",a.jsx(g,{to:"/register",className:"underline font-bold text-blue-500",children:"Sign up"})]})]})})})})]})]})}export{ua as default,ha as meta};
